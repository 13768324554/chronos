define(["backbone","underscore","models/base_job","validations/base_job","components/functor"],function(e,t,n,r,i){var s;return s=n.extend({url:function(e){return n.prototype.url.call(this,e)||"/scheduler/dependency"},getWhitelist:function(){return["parents"].concat(n.getWhitelist())},validate:t.extend({},r,{parents:{custom:"validateParents"}}),hasSchedule:i(!1),validateParents:function(e,n){var r=this.collection,i,s,o;i=t.all(n,function(e){return r.get(e)}),s=t.any(n,function(e){return this.id===e},this),o=t.isEmpty(n);if(!i)return"Parents should be specified by name.";if(s)return"A job may not depend on itself.";if(o)return"A dependent job must have parents."}}),s});