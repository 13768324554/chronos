define(["underscore","backbone","vendor/benchmark"],function(_,Backbone,Benchmark){var CreateClass;CreateClass=function CreateClass(name,_instanceMethods,_classMethods){var _class,instanceMethods,classMethods,fnsToMap;if(_.isEmpty(name)||!_.isString(name))throw new Error("Name must be a non-empty string");return fnsToMap=function(e){return _.reduce(e||[],function(e,t){return e[t.name]=t,e},{})},instanceMethods=fnsToMap(_instanceMethods),classMethods=fnsToMap(_classMethods),_class=eval.call(null,["(function() { function ",name,"() { ","  this._constructor.apply(this, Array.prototype.slice.call(arguments));","}; return ",name,"; }())"].join("")),_.extend(_class.prototype,{constructor:function(){}},instanceMethods,{_constructor:function(){this.constructor.apply(this,Array.prototype.slice.call(arguments))}}),_.extend(_class,{extend:Backbone.Model.extend},classMethods),_class};var Generic=function(){};return Generic.extend=Backbone.Model.extend,CreateClass.Benchmark=function(e){var t=new Benchmark.Suite("Class Benchmarks"),n,r,i,s;return n=function(){return Generic.extend({sayHello:function(){return console.log("hello"),"hello"}},{makeMe:function(){return new TestKlass}})},r=function(){return CreateClass("TestKlass",[function(){return console.log("hello"),"hello"}],[function(){return new TestKlass}])},i=n(),s=r(),t.add("CC creation",function(){var e=r()}),t.add("extend creation",function(){var e=n()}),t.add("CC instantiation",function(){var e=new i}),t.add("extend instantiation",function(){var e=new s}),t},CreateClass});