(function(e){define(["backbone","underscore","mousetrap"],function(e,t,n){var r;return function(e,t,n){var i,s,o;i=t.View.prototype.initialize,s=t.View.prototype.remove,o=function(n){t.View.prototype.constructor.call(this,n)},e.extend(o.prototype,t.View.prototype,{keyboardEvents:{},bindKeyboardEvents:function(t){if(!t&&!(t=e.result(this,"keyboardEvents")))return;for(var r in t){var i=t[r];e.isFunction(i)||(i=this[t[r]]);if(!i)throw new Error('Method "'+t[r]+'" does not exist');i=e.bind(i,this),"bindGlobal"in n&&(r.indexOf("command")!==-1||r.indexOf("ctrl")!==-1)?n.bindGlobal(r,i):n.bind(r,i)}return this},unbindKeyboardEvents:function(){for(var e in this.keyboardEvents)n.unbind(e);return this},initialize:function(){var e=i.apply(this,arguments);return this.bindKeyboardEvents(),e},remove:function(){var e=s.apply(this,arguments);return this.unbindKeyboardEvents&&this.unbindKeyboardEvents(),e}}),r=o}(t,e,n),r})})(this);