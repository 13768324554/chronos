define(["./lessc"],function(e){function r(){}function i(){}var t,n;r.readFileSync=function(e,t){var n;try{n=readFile(e,t)}catch(r){console.log("\n\n","Got error in readFileSync on",e)}return n},r.statSync=function(e){if(!java.nio.file.Files.exists(e))throw new Error("File does not exist");return!0},i.join=function(){var e=Array.prototype.slice.call(arguments),t=java.nio.file.Paths.get(e[0]),n=!1,r;return r=e.reduce(function(e,t){return e.resolve(t)},t),r},i.dirname=function(e){var t=java.nio.file.Paths.get(e);return t.getParent()},typeof environment=="object"&&{}.toString.call(environment)==="[object Environment]"?(t=r,n=i):(t=require.nodeRequire("fs"),n=require.nodeRequire("path"));if(!e||!e.Parser)throw new Error("lessc-server could not load less.Parser");return e.Parser.importer=function(r,i,s,o){function c(t,r){if(t)return s(t);o.contents=o.contents||{},o.contents[u]=r,(new e.Parser({paths:[n.dirname(u)].concat(i),filename:u,contents:o.contents,files:o.files,syncImport:o.syncImport,dumpLineNumbers:o.dumpLineNumbers})).parse(r,function(e,t){s(e,t,u)})}var u,a,i=[].concat(i);i.push(".");for(var f=0;f<i.length;f++)try{u=n.join(i[f],r),t.statSync(u);break}catch(l){u=null}i=i.slice(0,i.length-1);if(!u){typeof o.errback=="function"?o.errback(r,i,s):s({type:"File",message:"'"+r+"' wasn't found.\n"});return}try{a=t.readFileSync(u,"utf-8"),c(null,a)}catch(l){c(l)}},e});